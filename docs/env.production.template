# Production Environment Variables
# Copy this to deploy/.env for production deployment
# Store sensitive values in AWS Secrets Manager

# Database (RDS)
DATABASE_URL=postgresql://${DB_USER}:${DB_PASSWORD}@${RDS_ENDPOINT}:5432/trading_platform

# Redis (ElastiCache)
REDIS_URL=redis://${ELASTICACHE_ENDPOINT}:6379

# OpenAI
OPENAI_API_KEY=${OPENAI_API_KEY}  # From Secrets Manager
OPENAI_MODEL=gpt-4
OPENAI_TEMPERATURE=0.7

# Market Data
FINNHUB_API_KEY=${FINNHUB_API_KEY}  # From Secrets Manager

# Broker (Alpaca)
ALPACA_API_KEY=${ALPACA_API_KEY}  # From Secrets Manager
ALPACA_SECRET_KEY=${ALPACA_SECRET_KEY}  # From Secrets Manager
ALPACA_BASE_URL=https://api.alpaca.markets  # LIVE trading

# JWT
JWT_SECRET=${JWT_SECRET}  # From Secrets Manager
JWT_ALGORITHM=HS256
JWT_EXPIRATION_MINUTES=60

# Email (AWS SES)
AWS_REGION=us-east-1
SES_FROM_EMAIL=noreply@yourdomain.com

# Application
ENV=production
DEBUG=false
LOG_LEVEL=INFO
ALLOWED_ORIGINS=https://yourdomain.com,https://www.yourdomain.com

# Celery
CELERY_BROKER_URL=redis://${ELASTICACHE_ENDPOINT}:6379/0
CELERY_RESULT_BACKEND=redis://${ELASTICACHE_ENDPOINT}:6379/0

# Kafka (Amazon MSK for production)
KAFKA_BOOTSTRAP_SERVERS=${MSK_BOOTSTRAP_SERVERS}
KAFKA_SIGNAL_TOPIC=trading-signals

# Subscription & Billing (PRODUCTION)
ENFORCE_SUBSCRIPTION_LIMITS=true      # MUST be true in production
DEFAULT_SUBSCRIPTION_TIER=free        # New users get free tier

# Stripe (for billing)
STRIPE_API_KEY=${STRIPE_API_KEY}  # From Secrets Manager
STRIPE_WEBHOOK_SECRET=${STRIPE_WEBHOOK_SECRET}  # From Secrets Manager

# AWS
AWS_REGION=us-east-1
S3_BUCKET_REPORTS=${S3_BUCKET_REPORTS}
S3_BUCKET_LOGS=${S3_BUCKET_LOGS}

# ECS Configuration
ECS_CLUSTER_NAME=trading-platform-prod
ECS_SERVICE_API=trading-api
ECS_SERVICE_WORKER=trading-worker
ECS_SERVICE_BEAT=trading-beat
ECS_SERVICE_SIGNAL_GEN=trading-signal-generator
ECS_SERVICE_TRIGGER_DISP=trading-trigger-dispatcher

# Monitoring
SENTRY_DSN=${SENTRY_DSN}  # Optional
PROMETHEUS_REMOTE_WRITE_URL=${AMP_WORKSPACE_URL}  # Amazon Managed Prometheus
GRAFANA_WORKSPACE_ID=${AMG_WORKSPACE_ID}  # Amazon Managed Grafana

