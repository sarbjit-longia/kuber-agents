<div class="tool-selector">
  <div class="tool-selector-header">
    <h6>Attached Tools</h6>
    <button 
      mat-icon-button 
      [matMenuTriggerFor]="addToolMenu"
      [disabled]="getAvailableToolsForMenu().length === 0"
      matTooltip="Add Tool">
      <mat-icon>add</mat-icon>
    </button>
  </div>

  <!-- Simple list of attached tools (NO configuration here) -->
  <div *ngIf="attachedTools.length > 0" class="tools-list-simple">
    <div *ngFor="let tool of attachedTools" class="tool-item-simple">
      <mat-icon class="tool-icon-small">{{tool.metadata?.icon || 'extension'}}</mat-icon>
      <span class="tool-name">{{tool.metadata?.name}}</span>
      <button 
        mat-icon-button 
        (click)="removeTool(tool.tool_type)"
        matTooltip="Remove Tool"
        class="remove-btn">
        <mat-icon>close</mat-icon>
      </button>
    </div>
  </div>

  <!-- Empty state -->
  <div *ngIf="attachedTools.length === 0" class="empty-state-simple">
    <mat-icon>extension_off</mat-icon>
    <p>No tools attached</p>
    <small>Click + to add tools. Configure tools by clicking their node on canvas.</small>
  </div>

  <!-- Add tool menu -->
  <mat-menu #addToolMenu="matMenu">
    <button 
      mat-menu-item 
      *ngFor="let tool of getAvailableToolsForMenu()"
      (click)="addTool(tool.tool_type)">
      <mat-icon>{{tool.icon || 'extension'}}</mat-icon>
      <span>{{tool.name}}</span>
    </button>
    <div *ngIf="getAvailableToolsForMenu().length === 0" class="no-tools-message">
      <small>All supported tools already attached</small>
    </div>
  </mat-menu>
</div>
